{% extends '_base.html' %}

{% block content %}
  <h1>Torneos Disponibles</h1>

  {# Opción para crear un nuevo torneo (solo admin o entrenador) #}
  {% if can_create %}
    <p>
      <a href="{% url 'eventos:create' %}?tipo=torneo">
        Crear Nuevo Torneo
      </a>
    </p>
  {% endif %}

  {% if eventos %}
    <ul>
      {% for evento in eventos %}
        <li>
          <h2>{{ evento.nombre }}</h2>
          <p>
            Fecha: {{ evento.fecha }} — Hora: {{ evento.hora }}<br>
            Duración: {{ evento.duracion }} minutos<br>
            Costo: {{ evento.costo }}
          </p>

          {# El Miembro ya no se inscribe directamente aquí; 
             redirige al detalle para mostrar la sección de pago #}
          <p>
            <a href="{% url 'eventos:torneo_detail' evento.id %}">Ver Detalle</a>
          </p>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No hay torneos disponibles.</p>
  {% endif %}
{% endblock %}
